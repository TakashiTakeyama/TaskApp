<p id="notice"><%= notice %></p>

<h3>HOME</h3>

<%= search_form_for @q do |f| %>
  <%= f.label :name, "#{t('view.task_name_search')}" %>
  <%= f.search_field :name_cont, id: 'search_field_name' %>
  <%= f.label :state, "#{t('view.task_state_search')}" %>
  <%= f.select :state_eq, ['未着手','着手中','完了'], include_blank: "指定無し" %>
  <%= f.submit "#{t('view.search')}" %>
  <% end %>

<div class="cotainer">
  <table>
    <thead>
    <tr class="row">
      <th class="col-md-3">duty</th>
      <th class="col-md-3">Details</th>
      <th class="col-md-3">expired_at</th>
      <th class="col-md-3">state</th>
      <th class="col-md-3">priority</th>
      <th colspan="5"></th>
    </tr>
    </thead>

    <tbody>
    <% @blogs.each do |blog| %>
      <tr>
        <td><%= blog.name %></td>
        <td><%= blog.details %></td>
        <td><%= l blog.expired_at, format: :short %></td>
        <td><%= blog.state %></td>
        <td><%= blog.priority %></td>
        <td><%= link_to "#{t('view.show')}", blog %></td>
        <td><%= link_to "#{t('view.edit')}", edit_blog_path(blog) %></td>
        <td><%= link_to "#{t('view.destory')}", blog, method: :delete, data: { confirm: "#{t('view.confirm')}" } %></td>
      </tr>
    <% end %>
    <%= paginate @blogs %>
    </tbody>
  </table>
</div>

<br>
<%= link_to "#{t('view.task_new')}", new_blog_path,class: 'btn btn-info' %><br>
<%= link_to "#{t('view.sort')}", blogs_path(expired_at: "true"), class: 'btn btn-info' %><br>
<%= link_to "#{t('view.priority_sort')}", blogs_path(priority: "true"), class: 'btn btn-info' %><br>
<% if params[:q].present?%>
  <%= link_to "#{t('view.index_all')}", blogs_path, class: 'btn btn-default' %><br>
<% end %>